<div class="z-portlet portlet-imagerotator"
     i18n:domain="zojax.portlets.imagerotator"
     tal:define="cssClass string:z-portlet portlet-htmlsource"
     tal:attributes="class python:context.cssClass and cssClass + ' ' + context.cssClass
                                  or cssClass"
     tal:condition="context/decoration">
  
  <h2 class="z-portlet-header"
      tal:condition="context/label" tal:content="context/label">Portlet Header</h2>

  <div class="z-portlet-body">
    <div class="z-portlet-item">
      <metal:block use-macro="view/template/macros/rotator" />
    </div>
  </div>
</div>

<tal:block condition="not: context/decoration">
  <metal:block use-macro="view/template/macros/rotator" />
</tal:block>

<tal:block condition="nothing">
  <metal:block define-macro="rotator">
    <div class="imagerotator-container">
        <div class="banner">
          <div class="textreel">
            <span tal:repeat="image context/images"><div tal:content="structure image/text/cooked"> text 1 </div></span>
          </div>
          <div class="imagereel">
            <a tal:repeat="image context/images" href="#" ><img tal:attributes="src string:${context/url}/images/${repeat/image/number}/++attribute++image; alt image/title" /></a>
          </div>
        </div>
        <div class="thumbs">
          <a tal:repeat="image context/images" href="#" tal:attributes="rel repeat/image/number"><img tal:attributes="src string:${context/url}/images/${repeat/image/number}/++attribute++thumbnail; alt image/title" /></a>
        </div>
      </div>
  </metal:block>
</tal:block>